{"ast":null,"code":"var _jsxFileName = \"/Users/trapbookpro/Development/hunger-warrior/src/components/Store/ViewOrder.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Navbar from \"../Navbar\";\nimport StepProgressBar from \"../Shelter/ProgressBar\";\nimport { getOrder2, getUserDetails, handleStatusChange, handleStatusChange2 } from \"../../functions/index\";\nimport { useParams } from \"react-router-dom\";\nimport MapContainer from \"../Map\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ViewOrder = props => {\n  _s();\n\n  const {\n    userDetails,\n    handleLogout\n  } = props;\n  const [order, setOrder] = useState({});\n  const [shelter, setShelter] = useState({});\n  const [request_status, setRequest_status] = useState(\"\");\n  const {\n    id\n  } = useParams();\n  let progress;\n\n  const nextRequestStatus = current_request_status => {\n    if (current_request_status === \"Order Sent\") {\n      setRequest_status(\"Shipped\");\n    } else if (current_request_status === \"Shipped\") {\n      setRequest_status(\"Delivered\");\n    }\n  };\n\n  const handleOnClick = async () => {\n    await handleStatusChange2(id, request_status);\n    await getOrder2(id, setOrder);\n  };\n\n  useEffect(async () => {\n    await getOrder2(id, setOrder);\n  }, [request_status]);\n  useEffect(async () => {\n    await getUserDetails(order.ordered_by, setShelter);\n    nextRequestStatus(order.order_status);\n  }, [order]);\n\n  const calculateProgress = () => {\n    if (order) {\n      if (order.order_status === \"Order Sent\") {\n        progress = 25;\n      } else if (order.order_status === \"Shipped\") {\n        progress = 75;\n      } else if (order.order_status === \"Delivered\") {\n        progress = 100;\n      } else {\n        progress = 0;\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"hero\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      handleLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"section-title\",\n      children: \"Order Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-view-order\",\n      children: shelter.location && order ? /*#__PURE__*/_jsxDEV(MapContainer, {\n        address: userDetails.location,\n        address2: shelter.location,\n        storeName: order.store_name,\n        shelterName: shelter.name,\n        onClick: () => {\n          console.log(\"clickled\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Loading Maps...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"progress-bar\",\n      children: [calculateProgress(), /*#__PURE__*/_jsxDEV(StepProgressBar, {\n        progress: progress\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progressbar-labels\",\n        style: {\n          display: \"inline-flex\",\n          marginTop: \"4%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"progressbar-label progressbar-label1\",\n          children: \"Ordered\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"progressbar-label progressbar-label2\",\n          children: \"Shipped\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"progressbar-label progressbar-label3\",\n          children: \"Delivered\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttons\",\n        style: {\n          marginTop: \"5%\"\n        },\n        children: order.order_status !== \"Delivered\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            handleOnClick();\n          },\n          className: \"mark-as-button\",\n          children: [\"Mark as \", request_status]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"order-details\",\n      style: {\n        margin: \"3% auto\",\n        width: \"60%\",\n        background: `linear-gradient( rgba(0, 0, 0, 0.78), rgba(0, 0, 0, 0.78) ),url(${shelter ? shelter.image ? shelter.image : null : null})`\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"order-listing-title\",\n        children: order.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"order-listing-title2\",\n        children: shelter ? shelter.name : \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"order-listing-details\",\n        children: [\"Shelter Email : \", shelter ? shelter.email : \"Loading...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"order-listing-details\",\n        children: [\"Shelter Phone : \", shelter ? shelter.phone : \"Loading...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"order-listing-details\",\n        children: [\"Shelter Location : \", shelter ? shelter.location : \"Loading...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"order-listing-details\",\n        children: [\"Quantity : \", order.quantity]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ViewOrder, \"GrbVsQipJx6D8S8WJhd855nLveM=\", false, function () {\n  return [useParams];\n});\n\n_c = ViewOrder;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewOrder\");","map":{"version":3,"sources":["/Users/trapbookpro/Development/hunger-warrior/src/components/Store/ViewOrder.js"],"names":["React","useEffect","useState","Navbar","StepProgressBar","getOrder2","getUserDetails","handleStatusChange","handleStatusChange2","useParams","MapContainer","ViewOrder","props","userDetails","handleLogout","order","setOrder","shelter","setShelter","request_status","setRequest_status","id","progress","nextRequestStatus","current_request_status","handleOnClick","ordered_by","order_status","calculateProgress","location","store_name","name","console","log","display","marginTop","margin","width","background","image","email","phone","quantity"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Navbar from \"../Navbar\";\nimport StepProgressBar from \"../Shelter/ProgressBar\";\nimport {\n  getOrder2,\n  getUserDetails,\n  handleStatusChange,\n  handleStatusChange2,\n} from \"../../functions/index\";\nimport { useParams } from \"react-router-dom\";\nimport MapContainer from \"../Map\";\n\nexport const ViewOrder = (props) => {\n  const { userDetails, handleLogout } = props;\n  const [order, setOrder] = useState({});\n  const [shelter, setShelter] = useState({});\n  const [request_status, setRequest_status] = useState(\"\");\n\n  const { id } = useParams();\n\n  let progress;\n\n  const nextRequestStatus = (current_request_status) => {\n    if (current_request_status === \"Order Sent\") {\n      setRequest_status(\"Shipped\");\n    } else if (current_request_status === \"Shipped\") {\n      setRequest_status(\"Delivered\");\n    }\n  };\n\n  const handleOnClick = async () => {\n    await handleStatusChange2(id, request_status);\n    await getOrder2(id, setOrder);\n  };\n\n  useEffect(async () => {\n    await getOrder2(id, setOrder);\n  }, [request_status]);\n\n  useEffect(async () => {\n    await getUserDetails(order.ordered_by, setShelter);\n    nextRequestStatus(order.order_status);\n  }, [order]);\n\n  const calculateProgress = () => {\n    if (order) {\n      if (order.order_status === \"Order Sent\") {\n        progress = 25;\n      } else if (order.order_status  === \"Shipped\") {\n        progress = 75;\n      } else if (order.order_status === \"Delivered\") {\n        progress = 100;\n      } else {\n        progress = 0;\n      }\n    }\n  };\n\n  return (\n    <div className=\"hero\">\n      <Navbar handleLogout={handleLogout} />\n      <h1 className=\"section-title\">Order Details</h1>\n      <div className=\"map-view-order\">\n        {shelter.location && order ? (\n          <MapContainer\n            address={userDetails.location}\n            address2={shelter.location}\n            storeName={order.store_name}\n            shelterName={shelter.name}\n            onClick={() => {\n              console.log(\"clickled\");\n            }}\n          />\n        ) : (\n          <h2>Loading Maps...</h2>\n        )}\n      </div>\n\n      <div className=\"progress-bar\">\n        {calculateProgress()}\n\n        <StepProgressBar progress={progress} />\n\n        <div\n          className=\"progressbar-labels\"\n          style={{ display: \"inline-flex\", marginTop: \"4%\" }}\n        >\n          <p className=\"progressbar-label progressbar-label1\">Ordered</p>\n          <p className=\"progressbar-label progressbar-label2\">Shipped</p>\n          <p className=\"progressbar-label progressbar-label3\">Delivered</p>\n        </div>\n\n        <div className=\"buttons\" style={{ marginTop: \"5%\" }}>\n          {order.order_status !== \"Delivered\" ? (\n            <button\n              onClick={() => {\n                handleOnClick();\n              }}\n              className=\"mark-as-button\"\n            >\n              Mark as {request_status}\n            </button>\n          ) : null}\n        </div>\n      </div>\n\n      <div\n        className=\"order-details\"\n        style={{\n          margin: \"3% auto\",\n          width: \"60%\",\n          background: `linear-gradient( rgba(0, 0, 0, 0.78), rgba(0, 0, 0, 0.78) ),url(${\n            shelter ? (shelter.image ? shelter.image : null) : null\n          })`,\n        }}\n      >\n        <h2 className=\"order-listing-title\">{order.name}</h2>\n        <h3 className=\"order-listing-title2\">\n          {shelter ? shelter.name : \"Loading...\"}\n        </h3>\n        <h4 className=\"order-listing-details\">\n          Shelter Email : {shelter ? shelter.email : \"Loading...\"}\n        </h4>\n        <h4 className=\"order-listing-details\">\n          Shelter Phone : {shelter ? shelter.phone : \"Loading...\"}\n        </h4>\n        <h4 className=\"order-listing-details\">\n          Shelter Location : {shelter ? shelter.location : \"Loading...\"}\n        </h4>\n        <h5 className=\"order-listing-details\">Quantity : {order.quantity}</h5>\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}